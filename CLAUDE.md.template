# {{PROJECT_NAME}}

## Stack
- Language: {{LANGUAGE}}
- Framework: {{FRAMEWORK}}
- Database: {{DATABASE}}
- Test: `{{TEST_COMMAND}}`
- Build: `{{BUILD_COMMAND}}`

## Coding Rules
- Type hints required (Python) or TypeScript types (JS/TS)
- No hardcoded paths or credentials
- Error handling for all external calls
- Follow existing patterns in codebase

## Test Policy
- Run tests before commit: `{{TEST_COMMAND}}`
- Coverage target: 80%
- TDD for new features: write tests first

## Delegation Rules

**Claude (orchestrator) handles:**
- Planning and architecture decisions
- Updating documentation (READMEs, STATUS.md)
- Code review and final approval
- Context-sensitive debugging
- Iterative test-fix loops

**Delegate to executors:**
- Code generation (>20 lines) → use `delegate_code` tool
- Research queries → use `delegate_research` tool
- Always provide `context_files` to prevent hallucination

**Routing priority:**
1. Jules: Multi-file refactors, complex features (15/day)
2. Gemini CLI: Most code generation (1500/day)
3. QwenAgent: Fallback, data processing (unlimited)

## MCP Tools

```
delegate_code(task, context_files, output_path, executor="auto")
delegate_research(query, output_path, mode="deep")
delegation_status()
run_tests(test_command, working_dir)
```

## Folder README Protocol

Every folder has a README.md with:
- Purpose (1 sentence)
- Contents table (file → purpose)
- For AI Agents section (patterns, test commands, common issues)

Update READMEs when adding/modifying files.

## Scratchpad

`_scratch/` is for ephemeral session coordination:
- `current_task.md` - Active work description
- `delegation_log.md` - What was delegated and results
- `test_failures.md` - Current failures to fix

Clean up scratchpad at session end.

## Project Notes
{{PROJECT_NOTES}}
